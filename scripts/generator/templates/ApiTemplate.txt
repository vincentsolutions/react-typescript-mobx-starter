import {{ENTITY_NAME_TITLE}} from "../data/models/{{ENTITY_NAME_TITLE}}";
import BaseApi from "./BaseApi";
import {HttpMethod} from "../global/classes/Enums";

class {{ENTITY_NAME_TITLE}}sApi extends BaseApi {
    static resourceName = "{{ENTITY_NAME_CAMEL}}s";

    static async get{{ENTITY_NAME_TITLE}}s() {
        return this.sendApiRequest<{{ENTITY_NAME_TITLE}}[]>(HttpMethod.GET, {{ENTITY_NAME_TITLE}}sApi.resourceName)
            .catch(error => {
                console.log(error);
                return [] as {{ENTITY_NAME_TITLE}}[];
            })
    }

    static async get{{ENTITY_NAME_TITLE}}(id: string) {
        return this.sendApiRequest<{{ENTITY_NAME_TITLE}}>(HttpMethod.GET, {{ENTITY_NAME_TITLE}}sApi.resourceName, undefined, id);
    }

    static async add{{ENTITY_NAME_TITLE}}({{ENTITY_NAME_TITLE}}: {{ENTITY_NAME_TITLE}}) {
        return this.sendApiRequest(HttpMethod.POST, {{ENTITY_NAME_TITLE}}sApi.resourceName, {{ENTITY_NAME_TITLE}});
    }

    static async update{{ENTITY_NAME_TITLE}}(id: string, {{ENTITY_NAME_TITLE}}: Partial<{{ENTITY_NAME_TITLE}}>) {
        return this.sendApiRequestWithResult<Partial<{{ENTITY_NAME_TITLE}}>, {{ENTITY_NAME_TITLE}}>(HttpMethod.PUT, {{ENTITY_NAME_TITLE}}sApi.resourceName, {{ENTITY_NAME_TITLE}}, id);
    }

    static async remove{{ENTITY_NAME_TITLE}}(id: string) {
        return this.sendApiRequest<null>(HttpMethod.DELETE, {{ENTITY_NAME_TITLE}}sApi.resourceName, undefined, id);
    }
}

export default {{ENTITY_NAME_TITLE}}sApi;